<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Dark theme palette -->
    <Color x:Key="App.Background.Color">#1E1E2E</Color>
    <Color x:Key="App.Surface.Color">#2A2A3C</Color>
    <Color x:Key="App.SurfaceAlt.Color">#232336</Color>
    <Color x:Key="App.Border.Color">#3A3A4E</Color>
    <Color x:Key="App.TextPrimary.Color">#E4E4EF</Color>
    <Color x:Key="App.TextSecondary.Color">#9898AD</Color>
    <Color x:Key="App.Accent.Color">#6B8EF0</Color>
    <Color x:Key="App.AccentLight.Color">#2A3050</Color>
    <Color x:Key="App.Success.Color">#3DDC84</Color>
    <Color x:Key="App.SuccessTint.Color">#1A2E22</Color>
    <Color x:Key="App.Error.Color">#EF5350</Color>
    <Color x:Key="App.AccentHover.Color">#8BA8F7</Color>

    <SolidColorBrush x:Key="App.Background" Color="{StaticResource App.Background.Color}"/>
    <SolidColorBrush x:Key="App.Surface" Color="{StaticResource App.Surface.Color}"/>
    <SolidColorBrush x:Key="App.SurfaceAlt" Color="{StaticResource App.SurfaceAlt.Color}"/>
    <SolidColorBrush x:Key="App.Border" Color="{StaticResource App.Border.Color}"/>
    <SolidColorBrush x:Key="App.TextPrimary" Color="{StaticResource App.TextPrimary.Color}"/>
    <SolidColorBrush x:Key="App.TextSecondary" Color="{StaticResource App.TextSecondary.Color}"/>
    <SolidColorBrush x:Key="App.Accent" Color="{StaticResource App.Accent.Color}"/>
    <SolidColorBrush x:Key="App.AccentLight" Color="{StaticResource App.AccentLight.Color}"/>
    <SolidColorBrush x:Key="App.Success" Color="{StaticResource App.Success.Color}"/>
    <SolidColorBrush x:Key="App.SuccessTint" Color="{StaticResource App.SuccessTint.Color}"/>
    <SolidColorBrush x:Key="App.Error" Color="{StaticResource App.Error.Color}"/>
    <SolidColorBrush x:Key="App.AccentHover" Color="{StaticResource App.AccentHover.Color}"/>

    <!-- Primary / accent button -->
    <Style x:Key="ButtonAccentStyle" TargetType="Button">
        <Setter Property="Background" Value="{DynamicResource App.Accent}"/>
        <Setter Property="Foreground" Value="White"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Padding" Value="14,8"/>
        <Setter Property="Cursor" Value="Hand"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="Button">
                    <Border x:Name="border" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" CornerRadius="4" Padding="{TemplateBinding Padding}">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{DynamicResource App.AccentHover}"/>
                            <Setter TargetName="border" Property="Background" Value="{DynamicResource App.AccentHover}"/>
                        </Trigger>
                        <Trigger Property="IsPressed" Value="True">
                            <Setter Property="Background" Value="{DynamicResource App.AccentHover}"/>
                            <Setter TargetName="border" Property="Opacity" Value="0.9"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- TextBox: focus border uses App.Accent -->
    <Style x:Key="AppTextBoxStyle" TargetType="TextBox">
        <Setter Property="Padding" Value="6,4"/>
        <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
        <Setter Property="BorderThickness" Value="1"/>
        <Setter Property="Background" Value="{DynamicResource App.Surface}"/>
        <Setter Property="Foreground" Value="{DynamicResource App.TextPrimary}"/>
        <Style.Triggers>
            <Trigger Property="IsFocused" Value="True">
                <Setter Property="BorderBrush" Value="{DynamicResource App.Accent}"/>
                <Setter Property="BorderThickness" Value="2"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <!-- RadioButton: checked indicator uses App.Accent -->
    <Style x:Key="AppRadioButtonStyle" TargetType="RadioButton">
        <Setter Property="Foreground" Value="{DynamicResource App.TextPrimary}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="RadioButton">
                    <StackPanel Orientation="Horizontal">
                        <Border x:Name="checkBorder" Width="18" Height="18" CornerRadius="9" BorderThickness="2" BorderBrush="{DynamicResource App.Border}" Background="{DynamicResource App.Surface}" Margin="0,0,8,0" VerticalAlignment="Center">
                            <Border x:Name="innerDot" Width="8" Height="8" CornerRadius="4" Background="{DynamicResource App.Accent}" Margin="2" VerticalAlignment="Center" HorizontalAlignment="Center" Visibility="Collapsed"/>
                        </Border>
                        <ContentPresenter VerticalAlignment="Center"/>
                    </StackPanel>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsChecked" Value="True">
                            <Setter TargetName="innerDot" Property="Visibility" Value="Visible"/>
                            <Setter TargetName="checkBorder" Property="BorderBrush" Value="{DynamicResource App.Accent}"/>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Global implicit styles for controls that don't fully inherit WPF UI theming -->
    <Style TargetType="Menu">
        <Setter Property="Background" Value="{DynamicResource App.Background}"/>
        <Setter Property="Foreground" Value="{DynamicResource App.TextPrimary}"/>
    </Style>
    <Style TargetType="MenuItem">
        <Setter Property="Foreground" Value="{DynamicResource App.TextPrimary}"/>
    </Style>
    <Style TargetType="CheckBox">
        <Setter Property="Foreground" Value="{DynamicResource App.TextPrimary}"/>
    </Style>
    <Style TargetType="DatePicker">
        <Setter Property="Foreground" Value="{DynamicResource App.TextPrimary}"/>
        <Setter Property="Background" Value="{DynamicResource App.Surface}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
    </Style>
    <Style TargetType="DatePickerTextBox">
        <Setter Property="Foreground" Value="{DynamicResource App.TextPrimary}"/>
        <Setter Property="Background" Value="{DynamicResource App.Surface}"/>
    </Style>
    <Style TargetType="TextBlock">
        <Setter Property="Foreground" Value="{DynamicResource App.TextPrimary}"/>
    </Style>
    <Style TargetType="DataGridCell">
        <Setter Property="Foreground" Value="{DynamicResource App.TextPrimary}"/>
        <Setter Property="BorderBrush" Value="Transparent"/>
    </Style>

    <!-- DataGrid: header App.SurfaceAlt, row hover/selected App.AccentLight -->
    <Style x:Key="AppDataGridColumnHeaderStyle" TargetType="DataGridColumnHeader">
        <Setter Property="Background" Value="{DynamicResource App.SurfaceAlt}"/>
        <Setter Property="Foreground" Value="{DynamicResource App.TextPrimary}"/>
        <Setter Property="BorderBrush" Value="{DynamicResource App.Border}"/>
        <Setter Property="BorderThickness" Value="0,0,1,1"/>
        <Setter Property="FontWeight" Value="SemiBold"/>
        <Setter Property="Padding" Value="6,6"/>
    </Style>

    <Style x:Key="AppDataGridRowStyle" TargetType="DataGridRow">
        <Setter Property="Background" Value="{DynamicResource App.Surface}"/>
        <Setter Property="Foreground" Value="{DynamicResource App.TextPrimary}"/>
        <Style.Triggers>
            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" Value="{DynamicResource App.AccentLight}"/>
            </Trigger>
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="Background" Value="{DynamicResource App.AccentLight}"/>
            </Trigger>
        </Style.Triggers>
    </Style>

    <Style x:Key="AppDataGridRowStyleWithBorder" TargetType="DataGridRow" BasedOn="{StaticResource AppDataGridRowStyle}">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="DataGridRow">
                    <Border x:Name="RowBorder" BorderThickness="0" BorderBrush="{DynamicResource App.Accent}" Background="{TemplateBinding Background}">
                        <Border.Style>
                            <Style TargetType="Border">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding IsSelected, RelativeSource={RelativeSource TemplatedParent}}" Value="True">
                                        <Setter Property="BorderThickness" Value="3,0,0,0"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Border.Style>
                        <SelectiveScrollingGrid>
                            <SelectiveScrollingGrid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition/>
                            </SelectiveScrollingGrid.ColumnDefinitions>
                            <DataGridRowHeader Grid.Column="0" SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical"/>
                            <DataGridCellsPresenter Grid.Column="1" SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical"/>
                            <DataGridDetailsPresenter Grid.Column="1" SelectiveScrollingGrid.SelectiveScrollingOrientation="Vertical"/>
                        </SelectiveScrollingGrid>
                    </Border>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
